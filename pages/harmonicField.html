<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../assets/css/global.css">
  <link rel="stylesheet" href="../assets/css/harmonicField.css">

  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
  >

  <title>Campo Harmônico - Prática</title>

  
</head>

<body>

  <a href="../index.html" class="btn-back">
    <i class="bi bi-arrow-left"></i> Voltar
  </a>

  <main>
    <h2>Campo Harmônico - Prática</h2>

    <label for="tonalidade">Escolha a tonalidade:</label>
    <select id="tonalidade">
      <option value="C">C</option>
      <option value="D">D</option>
      <option value="E">E</option>
      <option value="F">F</option>
      <option value="G">G</option>
      <option value="A">A</option>
      <option value="B">B</option>
    </select>

    <div id="contador">4</div>
    <div id="acorde">---</div>

    <button id="start">Iniciar</button>
    <button id="stop">Parar</button>
  </main>

  <footer>Lyven Music</footer>

  <script>
    const graus = ["I", "II", "III", "IV", "V", "VI", "VII"];
    let intervalo;
    let contagem = 4;

    function iniciar() {
      parar();
      contagem = 4;
      document.getElementById("contador").textContent = contagem;
      document.getElementById("acorde").textContent = "---";

      intervalo = setInterval(() => {
        contagem--;
        if (contagem > 0) {
          document.getElementById("contador").textContent = contagem;
        } else {
          const sorteio = Math.floor(Math.random() * graus.length);
          const grauAtual = graus[sorteio];

          document.getElementById("contador").textContent = "▶";
          document.getElementById("acorde").textContent = grauAtual;

          contagem = 5;
        }
      }, 1000);
    }

    function parar() {
      clearInterval(intervalo);
    }

    document.getElementById("start").addEventListener("click", iniciar);
    document.getElementById("stop").addEventListener("click", parar);
  </script>
</body>
</html>
